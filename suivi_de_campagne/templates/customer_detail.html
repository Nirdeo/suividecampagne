{% extends "base.html" %}{% block title %} Client {% endblock title %}

{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
    <div class="page-header">
        <h4 class="page-title">Détails client</h4>
    </div>
    <div class="row">
        <div class="col-md-12">
            <form method="post" action="{% if identifier %} {% url 'edit-customer' identifier=identifier %} {% else %} {% url 'create-customer' %} {% endif %}">{% csrf_token %}
                <!-- Client -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <span><i class="fas fa-user-tie"></i></span>
                            <span>
                                Client
                            </span>
                            {% if msg %}
                                <span class="text-danger">{{ msg | safe }}</span>
                            {% endif %}

                            {% if identifier %}
                                <a data-id="{{identifier}}" id="supprClient" class="btn btn-danger float-right"><span class="btn-label mr-2"> <i class="fas fa-trash-alt"></i></span>Supprimer</a>
                            {% endif %}
                        </div>
                    </div>

                    <div class="card-body">
                        <input type="hidden" id="identifier" name="identifier" value="{{identifier}}">
                        <div class="row">
                            <!-- dénomination -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.nom_entreprise }}
                                    </div>
                                </div>
                            </div>
                            <!-- Siret -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.siret }}
                                    </div>
                                </div>
                            </div>
                            <!-- base -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <label class="form-label">Base</label>
                                    <div class="selectgroup w-100">
                                        <label class="selectgroup-item">
                                            <input type="radio" name="base" value="interne" class="selectgroup-input" {% if form.base.value == "interne" %}checked{% endif %}>
                                            <span class="selectgroup-button">Interne</span>
                                        </label>
                                        <label class="selectgroup-item">
                                            <input type="radio" name="base" value="externe" class="selectgroup-input" {% if form.base.value == "externe" %}checked{% endif %}>
                                            <span class="selectgroup-button">Externe</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <!-- Code postal -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.code_postal }}
                                    </div>
                                </div>
                            </div>
                            <!-- leviers -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.leviers }}
                                    </div>
                                </div>
                            </div>
                            <!-- thématiques -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.thematiques }}
                                    </div>
                                </div>
                            </div>
                            <!-- thématiques blacklistées -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.thematiques_blacklist }}
                                    </div>
                                </div>
                            </div>
                            <!-- Commentaire -->
                            <div class="col-12">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.commentaire }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--  Contact -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <span>
                                <i class="icon-user"></i>
                            </span>
                            <span>
                                Contact
                            </span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <!-- nom -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.nom }}
                                    </div>
                                </div>
                            </div>
                            <!-- prénom -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.prenom }}
                                    </div>
                                </div>
                            </div>
                            <!-- fonction -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.fonction }}
                                    </div>
                                </div>
                            </div>
                            <!-- email -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.email }}
                                    </div>
                                </div>
                            </div>
                            <!-- tel fixe -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.telephone_fixe }}
                                    </div>
                                </div>
                            </div>
                            <!-- tel mobile -->
                            <div class="col-12 col-md-6">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="icon-user"></i>
                                            </span>
                                        </div>
                                        {{ form.telephone_mobile }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-action">
                        <button type="submit" class="btn btn-success">Envoyer</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}
<script>
    supprObject("#supprClient", "Etes vous sur de vouloir supprimer ce client ?", "/delete-customer/")
</script>
{% endblock javascripts %}